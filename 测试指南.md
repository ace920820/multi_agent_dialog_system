# 医疗助手系统 - API测试指南

## 测试步骤

### 第一步：启动API服务器

1. 双击运行 `start_api_server.bat` 批处理文件
2. 看到以下输出表示服务器已成功启动：
   ```
   * Running on http://127.0.0.1:5000
   ```
3. 保持命令窗口打开

### 第二步：打开测试页面

1. 双击运行 `test.bat` 批处理文件
2. 浏览器将自动打开 `simple_tester.html` 测试页面

### 第三步：进行API测试

在测试页面中：
1. 用户ID默认为 `test_user`，可以根据需要修改
2. 在消息内容框中输入您想要测试的消息
3. 点击"发送请求"按钮
4. 在"系统响应"区域查看API返回的结果

## 测试文件说明

- `api_server.py` - 简化版API服务器，直接响应用户消息
- `simple_tester.html` - 简易测试页面，通过浏览器与API进行交互
- `start_api_server.bat` - 启动API服务器的批处理脚本
- `test.bat` - 打开测试页面的批处理脚本

## 注意事项

1. 确保测试前API服务器已启动
2. 如遇到错误，查看命令窗口输出的日志信息进行排查
3. 此简化版API服务器仅用于测试，不包含完整的智能体功能

## 常见问题排查

1. 如果页面显示"请求失败"，检查API服务器是否正在运行
2. 如果服务器启动失败，检查5000端口是否被其他程序占用
3. 如果看到CORS相关错误，检查浏览器控制台输出并参考错误信息

## 完整系统测试

要测试完整的医疗助手系统：
1. 关闭简化版API服务器
2. 运行 `python main.py` 启动完整系统
3. 使用相同的测试页面进行交互
